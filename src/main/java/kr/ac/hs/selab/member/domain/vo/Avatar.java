package kr.ac.hs.selab.member.domain.vo;

import javax.persistence.Column;
import javax.persistence.Embeddable;
import javax.persistence.Transient;
import kr.ac.hs.selab.common.utils.ValidationUtils;
import lombok.AccessLevel;
import lombok.NoArgsConstructor;

@Embeddable
@NoArgsConstructor(access = AccessLevel.PROTECTED)
public class Avatar {

    @Transient
    private final static String DEFAULT_IMAGE_URL = "data:image/png;base64,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";

    @Column(name = "member_avatar")
    private String avatar;

    private Avatar(String avatar) {
        this.avatar = validate(avatar);
    }

    private String validate(String avatar) {
        if (ValidationUtils.isCorrect(avatar)) {
            return avatar;
        }
        return DEFAULT_IMAGE_URL;
    }

    public static Avatar of(String avatar) {
        return new Avatar(avatar);
    }
}